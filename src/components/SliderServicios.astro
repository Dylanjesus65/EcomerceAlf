---
import Layout from "../layouts/Layout.astro";
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';
import 'swiper/css/effect-fade';
---

<Layout>
  <section class="relative text-gray-900">
    <!-- Swiper container - Con clases responsivas -->
    <div class="swiper-container">
      <!-- Versión móvil (contenido estático) -->
      <div class="mobile-only-content">
        <div class="relative h-[500px] w-full">
          <!-- Solo mostramos el primer slide en móviles -->
          <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('/slider2/slider1.webp');">
            <div class="absolute inset-0 bg-gradient-to-b from-[#101828]/20 via-[#101828]/20 to-[#101828]/20"></div>
          </div>
          <!-- Puedes agregar aquí el contenido que desees mostrar en móviles -->
        </div>
      </div>

      <!-- Swiper para desktop -->
      <div class="swiper hero-swiper h-[700px] desktop-only-slider">
        <div class="swiper-wrapper">
          <!-- Slide 1 -->
          <div class="swiper-slide">
            <div class="relative h-full w-full">
              <!-- Fondo con overlay mejorado -->
              <div class="absolute inset-0 bg-cover bg-center bg-fixed" style="background-image: url('/slider2/slider1.webp');">
                <div class="absolute inset-0 bg-gradient-to-b from-[#101828]/20 via-[#101828]/20 to-[#101828]/20"></div>
              </div>
            </div>
          </div>
          <!-- Slide 2 -->
          <div class="swiper-slide">
            <div class="relative h-full w-full">
              <!-- Fondo con overlay mejorado -->
              <div class="absolute inset-0 bg-cover bg-center bg-fixed" style="background-image: url('/slider2/slider2.webp');">
                <div class="absolute inset-0 bg-gradient-to-b from-[#101828]/20 via-[#101828]/20 to-[#101828]/20"></div>
              </div>
            </div>
          </div>
          
          <!-- Slide 3 -->
          <div class="swiper-slide">
            <div class="relative h-full w-full">
              <div class="absolute inset-0 bg-cover bg-center bg-fixed" style="background-image: url('/slider2/slider3.webp');">
                <div class="absolute inset-0 bg-gradient-to-b from-[#101828]/20 via-[#101828]/20 to-[#101828]/20"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Controles de navegación mejorados -->
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
  </section>
  
  <!-- Incluir estilos de Swiper -->

  
  <script is:inline>
    document.addEventListener('DOMContentLoaded', function() {
      const isMobile = window.innerWidth < 768;
  
      if (!isMobile) {
        // Cargar dinámicamente los estilos y scripts de Swiper
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css';
        document.head.appendChild(link);
  
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js';
        script.onload = function() {
          const swiper = new Swiper('.hero-swiper', {
            loop: true,
            autoplay: {
              delay: 6000,
              disableOnInteraction: false,
            },
            effect: 'fade',
            fadeEffect: {
              crossFade: true
            },
            speed: 1000,
            pagination: {
              el: '.swiper-pagination',
              clickable: true,
            },
            navigation: {
              nextEl: '.swiper-button-next',
              prevEl: '.swiper-button-prev',
            },
          });
        };
        document.body.appendChild(script);
      }
  
      // Recarga en cambio de tamaño entre móvil y desktop
      window.addEventListener('resize', function() {
        const isMobileNow = window.innerWidth < 768;
        if ((isMobile && !isMobileNow) || (!isMobile && isMobileNow)) {
          window.location.reload();
        }
      });
    });
  </script>
  
  
  <style>
    /* Estilos responsivos para mostrar/ocultar contenido según dispositivo */
    .mobile-only-content {
      display: none; /* Oculto por defecto */
    }
    
    /* En dispositivos móviles, mostrar contenido móvil y ocultar slider */
    @media (max-width: 767px) {
      .mobile-only-content {
        display: block;
      }
      
      .desktop-only-slider {
        display: none;
      }
    }
    
    /* Personalizar colores de los controles de Swiper */
    :root {
      --swiper-theme-color: #F0A520;
      --swiper-navigation-size: 24px;
    }
    
    .swiper-button-next, 
    .swiper-button-prev {
      background-color: rgba(240, 165, 32, 0.2);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      transition: all 0.3s ease;
      border: 2px solid rgba(240, 165, 32, 0.3);
    }
    
    .swiper-button-next:hover, 
    .swiper-button-prev:hover {
      background-color: rgba(240, 165, 32, 0.4);
      transform: scale(1.1);
    }
    
    .swiper-pagination-bullet {
      width: 12px;
      height: 12px;
      opacity: 0.6;
      transition: all 0.3s ease;
    }
    
    .swiper-pagination-bullet-active {
      background-color: #F0A520;
      opacity: 1;
      width: 14px;
      height: 14px;
    }
    
    /* Ajuste de altura para desktop */
    @media (min-width: 768px) {
      .swiper, .swiper-slide, .swiper-wrapper {
        width: 100%;
        height: 45lvh;
      }
    }
    
    /* Animaciones adicionales */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-fadeIn {
      animation: fadeIn 0.8s ease-out forwards;
    }
  </style>
</Layout>