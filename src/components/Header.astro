---
import Layout from "../layouts/Layout.astro";

const currentPath = Astro.url.pathname;
---


  <!-- Barra superior -->
  <div class="w-full bg-[#1D2327] text-white text-sm py-4 px-6">
    <div class="max-w-[1600px] mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
      <a href="/" class="flex items-center space-x-2">
        <img src="/logo2.webp" alt="Logo" class="h-8" />
      </a>

      <div class="flex flex-wrap justify-center gap-6 text-center md:text-left">
        <div class="flex items-center gap-2">
          <img src="/iso.svg" alt="Certificación ISO" class="h-6" />
          <span>Certificación ISO 9001</span>
        </div>
        <div class="flex items-center gap-2">
          <img src="/24h.svg" alt="Servicio 24/7" class="h-6" />
          <span>Servicio 24/7</span>
        </div>
        <div class="flex items-center gap-2">
          <img src="/check.svg" alt="Personal Calificado" class="h-6" />
          <span>Personal Calificado</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Header principal -->
  <header class="sticky top-0 z-50 bg-white shadow-md">
    <div class="max-w-[1600px] mx-auto flex items-center justify-between px-6 py-4">
      <a href="/" class="flex items-center w-36">
        <img src="/logo2.webp" alt="Logo" class="h-12 w-full object-contain" />
      </a>

      <!-- Botón hamburguesa -->
      <button id="menu-btn" class="md:hidden flex flex-col justify-center items-center w-10 h-10 focus:outline-none">
        <span class="block w-8 h-0.5 bg-[#1D2327] mb-1 transition-all duration-300 ease-in-out"></span>
        <span class="block w-8 h-0.5 bg-[#1D2327] mb-1 transition-all duration-300 ease-in-out"></span>
        <span class="block w-8 h-0.5 bg-[#1D2327] transition-all duration-300 ease-in-out"></span>
      </button>

      <nav class="hidden md:flex space-x-8 font-semibold text-[#1D2327] text-lg">
        <a href="/" class={`hover:text-[#F5B117] nav-link-desktop ${currentPath === '/' ? 'active-link' : ''}`}>Inicio</a>
        <a href="/nosotros" class={`hover:text-[#F5B117] nav-link-desktop ${currentPath === '/nosotros' ? 'active-link' : ''}`}>Nosotros</a>
        <a href="/contacto" class={`hover:text-[#F5B117] nav-link-desktop ${currentPath === '/contacto' ? 'active-link' : ''}`}>Contacto</a>
        <a href="/servicios" class={`hover:text-[#F5B117] nav-link-desktop ${currentPath === '/servicios' ? 'active-link' : ''}`}>Servicios</a>
      </nav>
    </div>

    <!-- Sidebar móvil -->
    <div id="sidebar" class="fixed top-0 left-0 w-80 h-full bg-[#081126] transform -translate-x-full transition-transform duration-300 z-50">
      <div class="flex items-center justify-between p-6">
        <a href="/" class="flex items-center space-x-2">
          <img src="/logo2.webp" alt="Logo" class="h-10" />
        </a>
        <button id="close-btn" class="text-white text-3xl font-bold">&times;</button>
      </div>
      <ul class="flex flex-col text-white font-semibold space-y-2 mt-6 px-6">
        <li><a href="/" class="block py-4 border-b border-gray-700 hover:bg-gray-700 rounded">Inicio</a></li>
        <li><a href="/nosotros" class="block py-4 border-b border-gray-700 hover:bg-gray-700 rounded">¿Quiénes Somos?</a></li>
        <li><a href="/contacto" class="block py-4 border-b border-gray-700 hover:bg-gray-700 rounded">Contacto</a></li>
        <li><a href="/servicios" class="block py-4 border-b border-gray-700 hover:bg-gray-700 rounded">Servicios</a></li>
      </ul>
      
      <!-- Buscador -->
      
    </div>

    <!-- Fondo oscuro cuando se abre el menú -->
    
    <div id="overlay" class="fixed inset-0 bg-gradient-to-b from-transparent to-black bg-opacity-50 hidden z-40"></div>



  </header>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuBtn = document.getElementById('menu-btn');
    const sidebar = document.getElementById('sidebar');
    const closeBtn = document.getElementById('close-btn');
    const overlay = document.getElementById('overlay');

    if (menuBtn && sidebar && closeBtn && overlay) {
      menuBtn.addEventListener('click', () => {
        sidebar.classList.remove('-translate-x-full');
        overlay.classList.remove('hidden');
      });

      closeBtn.addEventListener('click', () => {
        sidebar.classList.add('-translate-x-full');
        overlay.classList.add('hidden');
      });

      overlay.addEventListener('click', () => {
        sidebar.classList.add('-translate-x-full');
        overlay.classList.add('hidden');
      });
    } else {
      console.error('Uno o más elementos necesarios para la funcionalidad del menú no se encontraron en el DOM.');
    }
  });
</script>

  <style>
    .nav-link-desktop {
      position: relative;
      text-decoration: none;
      padding-bottom: 0.25rem;
      transition: color 0.3s ease;
    }

    .nav-link-desktop::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0%;
      height: 3px;
      background-color: #F5B117;
      transition: width 0.3s ease-in-out;
    }

    .nav-link-desktop:hover::after,
    .nav-link-desktop:focus::after,
    .nav-link-desktop:active::after {
      width: 100%;
    }

    .active-link::after {
      width: 100%;
    }
  </style>
</Layout>
